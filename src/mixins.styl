clickThrough(pseudo = after) {
  position: relative

  &:{pseudo} {
    position: absolute
    top: 0
    right: 0
    bottom: 0
    left: 0
    content: ''
    pointer-events: none
  }
}

window() {
  clickThrough()
  padding: 1rem
  border-radius: 10px
  background: linear-gradient(to bottom, #76726e, #313031 30px) repeat-x
  box-shadow: 0 0 2px 6px rgba(255, 255, 255, .4) inset, 1px 1px 3px 2px rgba(0, 0, 0, .4)

  &:after {
    border-width: 11px
    border-style: solid
    border-image: url('border.png') 11
    border-image-outset: 2px
  }
}

window-title(fixMargin = false) {
  clickThrough()
  padding: 5px 10px
  color: #d2d2d2
  text-shadow: 2px 2px 2px black
  letter-spacing: -1px
  font-weight: 700

  if (fixMargin) {
    margin: -.8rem -.8rem 1rem
  }

  &:after {
    top: initial !important
    right: 5px !important
    left: 5px !important
    height: 0 !important
    border: 1px inset rgba(255, 255, 255, .2)
    border-radius: 2px
  }
}

red-button() {
  clickThrough()
  box-sizing: border-box
  margin: .2rem
  padding: .5rem
  width: 3rem
  height: 3rem
  border: 1px solid #2d2d2d
  border-radius: .5rem
  background: linear-gradient(to bottom, rgba(255, 255, 255, .6), rgba(0, 0, 0, 0) 20%), radial-gradient(circle, #4a1818, #ae3e3e)
  box-shadow: 0 1px 1px -1px white, inset, 0 -1px 1px, -1px, rgba(255, 255, 255, .4), inset, 0 2px 2px 1px rgba(0, 0, 0, .4)

  &:after {
    border-radius: .5rem
  }

  &:hover {
    cursor: pointer
  }

  &:hover:after {
    background: rgba(255, 255, 255, .1)
  }

  &.active:after,
  &.selected:after {
    top: -2px
    right: -2px
    bottom: -2px
    left: -2px
    border: 3px solid #fff8cb
    box-shadow: 0 0 2px #fff8cb, inset, 0 0 2px #fff8cb
  }
}

gold-tint() {
  background: linear-gradient(45deg, #ffee7b, #947b4a, #ffee7b)
  filter: drop-shadow(1px 1px 5px rgba(0, 0, 0, .4)) drop-shadow(-1px -1px 5px rgba(0, 0, 0, .4)) drop-shadow(-1px 1px 5px rgba(0, 0, 0, .4)) drop-shadow(1px -1px 5px rgba(0, 0, 0, .4))
  color: #f6bd6a
  -webkit-background-clip: text
  -webkit-text-fill-color: transparent
}

vertical-line(side = left, isBorderBox = true) {
  box-shadow: 0 0 2px #2f2623
  {side}: 0

  if (side == left) {
    right: initial
  } else {
    left: initial
  }

  border-right: 1px solid #654e2c
  border-radius: 1px
  background: #9a7948

  if (isBorderBox) {
    width: 2px
  } else {
    width: 1px
  }
}

horizontal-line(side = top, isBorderBox = true) {
  box-shadow: 0 0 2px #2f2623
  {side}: 0

  if (side == top) {
    bottom: initial
  } else {
    top: initial
  }

  border-bottom: 1px solid #654e2c
  border-radius: 1px
  background: #9a7948

  if (isBorderBox) {
    height: 2px
  } else {
    height: 1px
  }
}

inset-box() {
  border-radius: 5px
  background-color: #0004
  box-shadow: 0 1px 1px 0 #111 inset, 0 -1px 1px 0 #ccc inset
}

ItemCommon = #8c897b
ItemAetherical = #ec8d9f
ItemScarce = #4ab058
ItemRare = #5294bb
ItemRelic = #633994

item-button(color = ItemCommon) {
  clickThrough(after)
  width: 42px
  height: 42px
  border: 1px solid #333
  border-radius: 5px
  background-image: radial-gradient(darken(color, .3), lighten(color, .9))
  box-shadow: 0 1px 2px black, 0 -1px 1px #fff3

  &:after {
    background: radial-gradient(ellipse 260% 40px at top, #fff3, #fff3 30%, transparent 35%)
  }
}
